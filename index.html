<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <title>Inventario Almac√©n PWA</title>
  <script src="https://github.com/stripe2022/Barylie/blob/main/html5-qrcode.min.js"></script>
</head>
<body>
  <header>
    <h1>Inventario Offline</h1>
    <nav>
      <button onclick="showScreen('add')">‚ûï A√±adir</button>
      <button onclick="showScreen('search')">üîç Buscar</button>
      <button onclick="showScreen('stock')">üì¶ Movimientos</button>
    </nav>
  </header>

  <!-- Pantalla A√±adir Producto -->
  <section id="addScreen" class="screen">
    <h2>A√±adir Producto</h2>
    <form id="productForm">
      <input type="hidden" id="productIndex" />
      <label>C√≥digo:
        <input type="text" id="codigo" required />
        <button type="button" onclick="scanCode()">Escanear</button>
  <div id="reader" style="display:none;"></div>
  <p id="result"></p>
      </label>
      <label>Nombre: <input type="text" id="nombre" required /></label>
      <label>Categor√≠a:
        <select id="categoria"></select>
        <input type="text" id="nuevaCategoria" placeholder="Nueva categor√≠a" />
        <button type="button" onclick="addCategoria()">A√±adir Categor√≠a</button>
      </label>
      <label>Descripci√≥n:
        <textarea id="descripcion"></textarea>
      </label>
      <div class="cantidadCentro"
      <label>Cantidad: <input type="number" id="cantidad" required /></label>
      </div>
      <div class="fila-doble">
      <label>Precio Original ($): <input type="number" id="precioOriginal" required /></label>
      <label>Tasa de Cambio (MN): <input type="number" id="tasa" /></label>
      </div>
      <div class="fila-doble">
      <label>Precio Costo (MN): <input type="number" id="precioCosto" required /></label>
      <label>Precio Venta (MN): <input type="number" id="precioVenta" required /></label>
      </div>
      <label>Foto:
        <button type="button" onclick="capturePhoto()">A√±adir Foto</button>
        <img id="preview" />
      </label>
      <div class="actions">
        <button type="submit">Guardar</button>
        <button type="button" onclick="resetForm()">Cancelar</button>
      </div>
    </form>
  </section>

  <!-- Pantalla Buscar Producto -->
  <section id="searchScreen" class="screen hidden">
    <h2>Buscar Producto</h2>
    <input type="text" id="buscarInput" placeholder="Buscar..." oninput="buscarProductos()" />
    <button onclick="scanCode(true)">Escanear</button>
    <div id="resultados"></div>
  </section>

  <!-- Pantalla Movimientos -->
  <section id="stockScreen" class="screen hidden">
    <h2>Movimientos de Inventario</h2>
    <input type="text" id="buscarStock" placeholder="Buscar producto..." oninput="buscarStock()" />
    <button onclick="scanCode(false, true)">Escanear</button>
    <div id="stockResultado"></div>
  </section>

<!-- C√°mara modal 
<div id="cameraModal" class="modal hidden">
  <video id="video" autoplay playsinline></video>
  <div class="modal-buttons">
    <button onclick="takePhoto()">Capturar</button>
    <button onclick="closeCamera()">Cerrar</button>
  </div>
</div> -->

  <script src="app.js"></script>
</body>
  </html>
